{"version":3,"file":"plugin.js","names":["ApiResponse","MotiaPluginContext","api","tracerFactory","registerApi","method","path","Promise","clear","status","body","message","error","Error","MotiaPlugin","MotiaPluginContext","api","plugin","motia","workbench","packageName","cssImports","label","position","componentName","labelIcon"],"sources":["../src/api.ts","../src/plugin.ts"],"sourcesContent":["import type { ApiResponse, MotiaPluginContext } from '@motiadev/core'\n\nexport const api = ({ tracerFactory, registerApi }: MotiaPluginContext): void => {\n  // POST /__motia/trace/clear - Clear all traces\n  registerApi(\n    {\n      method: 'POST',\n      path: '/__motia/trace/clear',\n    },\n    async (): Promise<ApiResponse> => {\n      try {\n        await tracerFactory.clear()\n        return {\n          status: 200,\n          body: { message: 'Traces cleared' },\n        }\n      } catch (error: unknown) {\n        return {\n          status: 500,\n          body: { error: error instanceof Error ? error.message : 'Unknown error' },\n        }\n      }\n    },\n  )\n}\n","import type { MotiaPlugin, MotiaPluginContext } from '@motiadev/core'\nimport { api } from './api'\n\nexport default function plugin(motia: MotiaPluginContext): MotiaPlugin {\n  api(motia)\n\n  return {\n    workbench: [\n      {\n        packageName: '@motiadev/plugin-observability',\n        cssImports: ['@motiadev/plugin-observability/dist/styles.css'],\n        label: 'Tracing',\n        position: 'bottom',\n        componentName: 'ObservabilityPage',\n        labelIcon: 'gantt-chart',\n      },\n    ],\n  }\n}\n"],"mappings":";AAEA,MAAaE,OAAO,EAAEC,eAAeC,kBAA4C;AAE/EA,aACE;EACEC,QAAQ;EACRC,MAAM;EACP,EACD,YAAkC;AAChC,MAAI;AACF,SAAMH,cAAcK,OAAO;AAC3B,UAAO;IACLC,QAAQ;IACRC,MAAM,EAAEC,SAAS,kBAAiB;IACnC;WACMC,OAAgB;AACvB,UAAO;IACLH,QAAQ;IACRC,MAAM,EAAEE,OAAOA,iBAAiBC,QAAQD,MAAMD,UAAU,iBAAgB;IACzE;;GAGN;;;;;ACpBH,SAAwBM,OAAOC,OAAwC;AACrEF,KAAIE,MAAM;AAEV,QAAO,EACLC,WAAW,CACT;EACEC,aAAa;EACbC,YAAY,CAAC,iDAAiD;EAC9DC,OAAO;EACPC,UAAU;EACVC,eAAe;EACfC,WAAW;EACZ,CAAA,EAEJ"}