//#region src/socket-server/helpers.ts
const ACCESS_DENIED_CODE = "STREAM_ACCESS_DENIED";
const getRoom = (message) => {
	return message.id ? `${message.streamName}:id:${message.id}` : `${message.streamName}:group-id:${message.groupId}`;
};
const createErrorMessage = (data, error) => {
	return {
		timestamp: Date.now(),
		streamName: data.streamName,
		groupId: data.groupId,
		id: data.id,
		event: {
			type: "event",
			event: {
				type: "error",
				data: {
					code: ACCESS_DENIED_CODE,
					message: error.message
				}
			}
		}
	};
};
const sendAccessDenied = (socket, data) => {
	const resultMessage = createErrorMessage(data, /* @__PURE__ */ new Error("Access denied"));
	socket.send(JSON.stringify(resultMessage));
};
const sendError = (socket, data, error) => {
	const resultMessage = createErrorMessage(data, error);
	socket.send(JSON.stringify(resultMessage));
};

//#endregion
export { getRoom, sendAccessDenied, sendError };
//# sourceMappingURL=helpers.mjs.map