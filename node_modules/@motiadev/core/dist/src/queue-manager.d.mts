import { Logger } from "./logger.mjs";
import { Event, Handler, QueueConfig } from "./types.mjs";

//#region src/queue-manager.d.ts

type QueueMetrics = {
  queueDepth: number;
  processingCount: number;
  retriesCount: number;
  dlqCount: number;
};
declare class QueueManager {
  private logger;
  private queues;
  private subscriptions;
  private lockedGroups;
  private queueEmitter;
  private scheduledTimeouts;
  private metrics;
  private processingMessages;
  constructor(logger?: Logger);
  private initMetrics;
  private updateMetric;
  private processQueue;
  private processMessage;
  private removeMessageFromQueue;
  private scheduleProcessing;
  enqueue<TData>(topic: string, event: Event<TData>, messageGroupId?: string): Promise<void>;
  subscribe(topic: string, handler: Handler, queueConfig: QueueConfig, subscriptionId: string): void;
  unsubscribe(topic: string, handler: Handler): void;
  getMetrics(topic: string): QueueMetrics | undefined;
  getAllMetrics(): Record<string, QueueMetrics>;
  reset(): void;
}
//#endregion
export { QueueManager, QueueMetrics };
//# sourceMappingURL=queue-manager.d.mts.map