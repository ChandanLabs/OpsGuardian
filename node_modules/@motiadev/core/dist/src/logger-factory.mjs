import { Logger } from "./logger.mjs";
import { randomUUID } from "crypto";

//#region src/logger-factory.ts
var BaseLoggerFactory = class {
	constructor(isVerbose, logStream) {
		this.isVerbose = isVerbose;
		this.logStream = logStream;
	}
	create({ stepName, traceId, flows }) {
		const streamListener = (level, msg, args) => {
			const id = randomUUID();
			this.logStream.set("default", id, {
				id,
				...args ?? {},
				level,
				time: Date.now(),
				msg,
				traceId,
				flows: flows ?? []
			});
		};
		return new Logger(this.isVerbose, {
			traceId,
			flows,
			step: stepName
		}, [streamListener]);
	}
};

//#endregion
export { BaseLoggerFactory };
//# sourceMappingURL=logger-factory.mjs.map