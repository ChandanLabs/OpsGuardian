{"version":3,"file":"communication-config.mjs","names":["spawnOptions: SpawnOptions"],"sources":["../../../src/process-communication/communication-config.ts"],"sourcesContent":["import type { SpawnOptions } from 'child_process'\n\nexport type CommunicationType = 'rpc' | 'ipc'\n\nexport interface CommunicationConfig {\n  type: CommunicationType\n  spawnOptions: SpawnOptions\n}\n\nexport function createCommunicationConfig(command: string, projectRoot?: string): CommunicationConfig {\n  const type = command === 'python' && process.platform === 'win32' ? 'rpc' : 'ipc'\n\n  const spawnOptions: SpawnOptions = {\n    stdio:\n      type === 'rpc'\n        ? ['pipe', 'pipe', 'inherit'] // RPC: capture stdout\n        : ['inherit', 'inherit', 'inherit', 'ipc'], // IPC: include IPC channel\n  }\n\n  if (command === 'python') {\n    spawnOptions.env = {\n      ...process.env,\n      PYTHONPATH: projectRoot || process.cwd(),\n    }\n  }\n\n  return { type, spawnOptions }\n}\n"],"mappings":";AASA,SAAgB,0BAA0B,SAAiB,aAA2C;CACpG,MAAM,OAAO,YAAY,YAAY,QAAQ,aAAa,UAAU,QAAQ;CAE5E,MAAMA,eAA6B,EACjC,OACE,SAAS,QACL;EAAC;EAAQ;EAAQ;EAAU,GAC3B;EAAC;EAAW;EAAW;EAAW;EAAM,EAC/C;AAED,KAAI,YAAY,SACd,cAAa,MAAM;EACjB,GAAG,QAAQ;EACX,YAAY,eAAe,QAAQ,KAAK;EACzC;AAGH,QAAO;EAAE;EAAM;EAAc"}