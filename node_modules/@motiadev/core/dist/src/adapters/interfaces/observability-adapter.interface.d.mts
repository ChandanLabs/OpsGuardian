import { Logger } from "../../logger.mjs";
import { StateOperation, StreamOperation, TraceError } from "../../observability/types.mjs";
import { Step } from "../../types.mjs";

//#region src/adapters/interfaces/observability-adapter.interface.d.ts
interface Metric {
  name: string;
  value: number;
  tags?: Record<string, string>;
  timestamp?: number;
}
interface Tracer {
  end(err?: TraceError): Promise<void>;
  stateOperation(operation: StateOperation, input: unknown): Promise<void>;
  emitOperation(topic: string, data: unknown, success: boolean): Promise<void>;
  streamOperation(streamName: string, operation: StreamOperation, input: unknown): Promise<void>;
  child(step: Step, logger: Logger): Tracer;
}
interface ObservabilityAdapter {
  createTracer(traceId: string, step: Step, logger: Logger): Promise<Tracer> | Tracer;
  attachToTrace(traceId: string, step: Step, logger: Logger): Promise<Tracer> | Tracer;
  clear(): Promise<void>;
  recordMetric?(metric: Metric): Promise<void> | void;
}
//#endregion
export { Metric, ObservabilityAdapter, Tracer };
//# sourceMappingURL=observability-adapter.interface.d.mts.map