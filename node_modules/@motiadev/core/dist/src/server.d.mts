import { CronAdapter } from "./adapters/interfaces/cron-adapter.interface.mjs";
import { EventAdapter } from "./adapters/interfaces/event-adapter.interface.mjs";
import { StateAdapter } from "./adapters/interfaces/state-adapter.interface.mjs";
import { StreamAdapterManager } from "./adapters/interfaces/stream-adapter-manager.interface.mjs";
import { Printer } from "./printer.mjs";
import { LockedData } from "./locked-data.mjs";
import { Motia } from "./motia.mjs";
import { ApiRouteConfig, Step } from "./types.mjs";
import { CronManager } from "./cron-handler.mjs";
import { MotiaEventManager } from "./step-handlers.mjs";
import { Express } from "express";
import http from "http";
import { Server } from "ws";

//#region src/server.d.ts
type MotiaServer = {
  printer: Printer;
  app: Express;
  server: http.Server;
  socketServer: Server;
  close: () => Promise<void>;
  removeRoute: (step: Step<ApiRouteConfig>) => void;
  addRoute: (step: Step<ApiRouteConfig>) => void;
  cronManager: CronManager;
  motiaEventManager: MotiaEventManager;
  motia: Motia;
};
type MotiaServerConfig = {
  isVerbose: boolean;
  printer?: Printer;
};
type AdapterOptions = {
  eventAdapter: EventAdapter;
  cronAdapter: CronAdapter;
  streamAdapter?: StreamAdapterManager;
};
declare const createServer: (lockedData: LockedData, state: StateAdapter, config: MotiaServerConfig, adapters: AdapterOptions, configureApp?: (app: Express) => void) => MotiaServer;
//#endregion
export { MotiaServer, createServer };
//# sourceMappingURL=server.d.mts.map