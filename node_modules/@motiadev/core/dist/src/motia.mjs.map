{"version":3,"file":"motia.mjs","names":[],"sources":["../../src/motia.ts"],"sourcesContent":["import type { Express } from 'express'\nimport type { EventAdapter } from './adapters/interfaces/event-adapter.interface'\nimport type { StateAdapter } from './adapters/interfaces/state-adapter.interface'\nimport type { LockedData } from './locked-data'\nimport type { LoggerFactory } from './logger-factory'\nimport type { TracerFactory } from './observability'\nimport type { Printer } from './printer'\nimport type { ApiResponse, ApiRouteConfig, ApiRouteHandler, InternalStateManager } from './types'\n\nexport type Motia = {\n  loggerFactory: LoggerFactory\n  eventAdapter: EventAdapter\n  state: InternalStateManager\n  lockedData: LockedData\n  printer: Printer\n  tracerFactory: TracerFactory\n\n  app: Express\n  stateAdapter: StateAdapter\n}\n\nexport type PluginApiConfig = {\n  method: ApiRouteConfig['method']\n  path: string\n}\n\nexport type UnregisterMotiaPluginApi = () => void\n\nexport type MotiaPluginContext = {\n  printer: Printer\n  state: StateAdapter\n  lockedData: LockedData\n  tracerFactory: TracerFactory\n  eventAdapter: EventAdapter\n  registerApi: <\n    TRequestBody = unknown,\n    TResponseBody extends ApiResponse<number, unknown> = ApiResponse<number, unknown>,\n    TEmitData = never,\n  >(\n    config: PluginApiConfig,\n    handler: ApiRouteHandler<TRequestBody, TResponseBody, TEmitData>,\n  ) => UnregisterMotiaPluginApi\n}\n\nexport const PLUGIN_FLOW_ID = '_plugin'\n"],"mappings":";AA4CA,MAAa,iBAAiB"}