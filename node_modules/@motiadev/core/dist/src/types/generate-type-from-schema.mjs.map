{"version":3,"file":"generate-type-from-schema.mjs","names":[],"sources":["../../../src/types/generate-type-from-schema.ts"],"sourcesContent":["import type { JSONSchema } from 'zod/v4/core'\nimport { isAnyOf } from './schema.types'\n\nexport const generateTypeFromSchema = (schema: JSONSchema.BaseSchema): string => {\n  if (!schema) {\n    return 'unknown'\n  }\n\n  if (isAnyOf(schema)) {\n    const types = schema.anyOf.map(generateTypeFromSchema)\n    return types.join(' | ')\n  }\n\n  if (schema.type === 'array') {\n    const itemType = schema.items ? generateTypeFromSchema(schema.items as JSONSchema.ArraySchema) : 'unknown'\n    return `Array<${itemType}>`\n  }\n\n  if (schema.type === 'object' && schema.properties) {\n    const props = Object.entries(schema.properties).map(([key, prop]) => {\n      const isRequired = schema.required?.includes(key)\n      const propType = generateTypeFromSchema(prop as JSONSchema.BaseSchema)\n      return `${key}${isRequired ? '' : '?'}: ${propType}`\n    })\n    return props.length > 0 ? `{ ${props.join('; ')} }` : '{}'\n  } else if (schema.type === 'object' && schema.additionalProperties) {\n    const propType = generateTypeFromSchema(schema.additionalProperties as JSONSchema.BaseSchema)\n    return `Record<string, ${propType}>`\n  }\n\n  if (schema.type === 'string') {\n    if (schema.format === 'binary') {\n      return 'Buffer'\n    }\n    return schema.enum && schema.enum.length > 0 // must have at least one enum value\n      ? schema.enum.map((value) => `'${value}'`).join(' | ')\n      : 'string'\n  }\n\n  if (typeof schema === 'object' && schema !== null && 'not' in schema) {\n    return 'undefined'\n  }\n\n  switch (schema.type) {\n    case 'number':\n      return 'number'\n    case 'boolean':\n      return 'boolean'\n    default:\n      return 'unknown'\n  }\n}\n"],"mappings":";;;AAGA,MAAa,0BAA0B,WAA0C;AAC/E,KAAI,CAAC,OACH,QAAO;AAGT,KAAI,QAAQ,OAAO,CAEjB,QADc,OAAO,MAAM,IAAI,uBAAuB,CACzC,KAAK,MAAM;AAG1B,KAAI,OAAO,SAAS,QAElB,QAAO,SADU,OAAO,QAAQ,uBAAuB,OAAO,MAAgC,GAAG,UACxE;AAG3B,KAAI,OAAO,SAAS,YAAY,OAAO,YAAY;EACjD,MAAM,QAAQ,OAAO,QAAQ,OAAO,WAAW,CAAC,KAAK,CAAC,KAAK,UAAU;GACnE,MAAM,aAAa,OAAO,UAAU,SAAS,IAAI;GACjD,MAAM,WAAW,uBAAuB,KAA8B;AACtE,UAAO,GAAG,MAAM,aAAa,KAAK,IAAI,IAAI;IAC1C;AACF,SAAO,MAAM,SAAS,IAAI,KAAK,MAAM,KAAK,KAAK,CAAC,MAAM;YAC7C,OAAO,SAAS,YAAY,OAAO,qBAE5C,QAAO,kBADU,uBAAuB,OAAO,qBAA8C,CAC3D;AAGpC,KAAI,OAAO,SAAS,UAAU;AAC5B,MAAI,OAAO,WAAW,SACpB,QAAO;AAET,SAAO,OAAO,QAAQ,OAAO,KAAK,SAAS,IACvC,OAAO,KAAK,KAAK,UAAU,IAAI,MAAM,GAAG,CAAC,KAAK,MAAM,GACpD;;AAGN,KAAI,OAAO,WAAW,YAAY,WAAW,QAAQ,SAAS,OAC5D,QAAO;AAGT,SAAQ,OAAO,MAAf;EACE,KAAK,SACH,QAAO;EACT,KAAK,UACH,QAAO;EACT,QACE,QAAO"}