//#region src/observability/trace-manager.ts
var TraceManager = class TraceManager {
	constructor(traceStream, traceGroupStream, traceGroup, trace) {
		this.traceStream = traceStream;
		this.traceGroupStream = traceGroupStream;
		this.traceGroup = traceGroup;
		this.trace = trace;
		this.updateTrace().catch(() => {});
	}
	async updateTrace() {
		await this.traceStream.set(this.traceGroup.id, this.trace.id, this.trace);
	}
	async updateTraceGroup() {
		await this.traceGroupStream.set("default", this.traceGroup.id, this.traceGroup);
	}
	async getAllTracesForGroup() {
		return await this.traceStream.getGroup(this.traceGroup.id);
	}
	child(trace) {
		return new TraceManager(this.traceStream, this.traceGroupStream, this.traceGroup, trace);
	}
};

//#endregion
export { TraceManager };
//# sourceMappingURL=trace-manager.mjs.map