{"version":3,"file":"utils.mjs","names":[],"sources":["../../src/utils.ts"],"sourcesContent":["import { isApiStep, isCronStep, isEventStep } from './guards'\nimport type { Emit, Step } from './types'\n\nconst toTopic = (emit: Emit) => (typeof emit === 'string' ? emit : emit.topic)\n\nexport const isAllowedToEmit = (step: Step, emit: string): boolean => {\n  if (!isApiStep(step) && !isCronStep(step) && !isEventStep(step)) return false\n\n  const emitsTopics = step.config.emits.map(toTopic)\n  return emitsTopics.includes(emit) || emitsTopics.length === 0\n}\n"],"mappings":";;;AAGA,MAAM,WAAW,SAAgB,OAAO,SAAS,WAAW,OAAO,KAAK;AAExE,MAAa,mBAAmB,MAAY,SAA0B;AACpE,KAAI,CAAC,UAAU,KAAK,IAAI,CAAC,WAAW,KAAK,IAAI,CAAC,YAAY,KAAK,CAAE,QAAO;CAExE,MAAM,cAAc,KAAK,OAAO,MAAM,IAAI,QAAQ;AAClD,QAAO,YAAY,SAAS,KAAK,IAAI,YAAY,WAAW"}