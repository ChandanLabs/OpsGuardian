{"version":3,"file":"rpc-state-manager.mjs","names":["sender: RpcSender"],"sources":["../../../src/node/rpc-state-manager.ts"],"sourcesContent":["import type { InternalStateManager } from '../types'\nimport type { RpcSender } from './rpc'\n\nexport class RpcStateManager implements InternalStateManager {\n  constructor(private readonly sender: RpcSender) {}\n\n  async get<T>(traceId: string, key: string) {\n    return this.sender.send<T>('state.get', { traceId, key })\n  }\n\n  async set<T>(traceId: string, key: string, value: T) {\n    return this.sender.send<T>('state.set', { traceId, key, value })\n  }\n\n  async delete<T>(traceId: string, key: string): Promise<T | null> {\n    return this.sender.send<T>('state.delete', { traceId, key })\n  }\n\n  async clear(traceId: string) {\n    await this.sender.send('state.clear', { traceId })\n  }\n\n  async getGroup<T>(groupId: string): Promise<T[]> {\n    return this.sender.send<T[]>('state.getGroup', { groupId })\n  }\n}\n"],"mappings":";AAGA,IAAa,kBAAb,MAA6D;CAC3D,YAAY,AAAiBA,QAAmB;EAAnB;;CAE7B,MAAM,IAAO,SAAiB,KAAa;AACzC,SAAO,KAAK,OAAO,KAAQ,aAAa;GAAE;GAAS;GAAK,CAAC;;CAG3D,MAAM,IAAO,SAAiB,KAAa,OAAU;AACnD,SAAO,KAAK,OAAO,KAAQ,aAAa;GAAE;GAAS;GAAK;GAAO,CAAC;;CAGlE,MAAM,OAAU,SAAiB,KAAgC;AAC/D,SAAO,KAAK,OAAO,KAAQ,gBAAgB;GAAE;GAAS;GAAK,CAAC;;CAG9D,MAAM,MAAM,SAAiB;AAC3B,QAAM,KAAK,OAAO,KAAK,eAAe,EAAE,SAAS,CAAC;;CAGpD,MAAM,SAAY,SAA+B;AAC/C,SAAO,KAAK,OAAO,KAAU,kBAAkB,EAAE,SAAS,CAAC"}