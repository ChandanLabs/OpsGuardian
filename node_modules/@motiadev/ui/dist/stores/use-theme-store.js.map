{"version":3,"file":"use-theme-store.js","names":["create","createJSONStorage","persist","Theme","updateTheme","theme","root","window","document","body","classList","remove","systemTheme","matchMedia","matches","add","Actions","setTheme","State","ThemeState","useThemeStore","set","name","storage","localStorage","getState"],"sources":["../../src/stores/use-theme-store.tsx"],"sourcesContent":["import { create } from 'zustand'\nimport { createJSONStorage, persist } from 'zustand/middleware'\n\nexport type Theme = 'dark' | 'light' | 'system'\n\nconst updateTheme = (theme: Theme) => {\n  const root = window.document.body\n\n  root.classList.remove('light', 'dark')\n\n  if (theme === 'system') {\n    const systemTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'\n\n    root.classList.add(systemTheme)\n    return\n  }\n\n  root.classList.add(theme)\n}\n\ntype Actions = {\n  setTheme: (theme: Theme) => void\n}\n\ntype State = {\n  theme: Theme\n}\n\nexport type ThemeState = State & Actions\n\nexport const useThemeStore = create<ThemeState>()(\n  persist(\n    (set) => ({\n      theme: 'dark',\n      setTheme: (theme: Theme) => {\n        updateTheme(theme)\n        set({ theme })\n      },\n    }),\n    {\n      name: 'motia-theme-storage',\n      storage: createJSONStorage(() => localStorage),\n    },\n  ),\n)\n\nconst { theme } = useThemeStore.getState()\n\nif (theme) {\n  updateTheme(theme)\n}\n"],"mappings":";;;;AAKA,MAAMI,eAAeC,YAAiB;CACpC,MAAMC,OAAOC,OAAOC,SAASC;AAE7BH,MAAKI,UAAUC,OAAO,SAAS,OAAO;AAEtC,KAAIN,YAAU,UAAU;EACtB,MAAMO,cAAcL,OAAOM,WAAW,+BAA+B,CAACC,UAAU,SAAS;AAEzFR,OAAKI,UAAUK,IAAIH,YAAY;AAC/B;;AAGFN,MAAKI,UAAUK,IAAIV,QAAM;;AAa3B,MAAae,gBAAgBpB,QAAoB,CAC/CE,SACGmB,SAAS;CACRhB,OAAO;CACPY,WAAWZ,YAAiB;AAC1BD,cAAYC,QAAM;AAClBgB,MAAI,EAAEhB,gBAAO,CAAC;;CAEjB,GACD;CACEiB,MAAM;CACNC,SAAStB,wBAAwBuB,aAAY;CAEjD,CACF,CAAC;AAED,MAAM,EAAEnB,UAAUe,cAAcK,UAAU;AAE1C,IAAIpB,MACFD,aAAYC,MAAM"}