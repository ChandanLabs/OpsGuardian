import { create } from "zustand";
import { createJSONStorage, persist } from "zustand/middleware";

//#region src/stores/use-theme-store.tsx
const updateTheme = (theme$1) => {
	const root = window.document.body;
	root.classList.remove("light", "dark");
	if (theme$1 === "system") {
		const systemTheme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
		root.classList.add(systemTheme);
		return;
	}
	root.classList.add(theme$1);
};
const useThemeStore = create()(persist((set) => ({
	theme: "dark",
	setTheme: (theme$1) => {
		updateTheme(theme$1);
		set({ theme: theme$1 });
	}
}), {
	name: "motia-theme-storage",
	storage: createJSONStorage(() => localStorage)
}));
const { theme } = useThemeStore.getState();
if (theme) updateTheme(theme);

//#endregion
export { useThemeStore };
//# sourceMappingURL=use-theme-store.js.map