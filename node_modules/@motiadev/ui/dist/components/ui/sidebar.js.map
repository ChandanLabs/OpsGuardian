{"version":3,"file":"sidebar.js","names":["Equal","FC","useEffect","useMemo","createPortal","useResizable","Panel","PanelProps","APP_SIDEBAR_CONTAINER_ID","CLOSE_PREVIOUS_SIDEBAR_EVENT","SidebarProps","onClose","initialWidth","containerId","Sidebar","t0","$","_c","$i","Symbol","for","props","t1","sidebarId","t2","t3","t4","_temp","_temp2","t5","lockVertical","initialHeight","onDragStart","onDragEnd","getRootProps","getHandleProps","t6","t7","event","CustomEvent","detail","window","dispatchEvent","handleClose","e","customEvent","addEventListener","removeEventListener","t8","t9","reverse","t10","t11","t12","t13","t14","document","querySelector","HTMLDivElement","body","style","userSelect"],"sources":["../../../src/components/ui/sidebar.tsx"],"sourcesContent":["import { Equal } from 'lucide-react'\nimport { type FC, useEffect, useMemo } from 'react'\nimport { createPortal } from 'react-dom'\nimport { useResizable } from 'react-use-resizable'\nimport { Panel, type PanelProps } from './panel'\n\nexport const APP_SIDEBAR_CONTAINER_ID = 'app-sidebar-container'\n\nconst CLOSE_PREVIOUS_SIDEBAR_EVENT = 'close-previous-sidebar'\n\nexport type SidebarProps = PanelProps & {\n  onClose: () => void\n  initialWidth?: number\n  containerId?: string\n}\n\nexport const Sidebar: FC<SidebarProps> = ({ initialWidth, onClose, containerId, ...props }) => {\n  const sidebarId = useMemo(() => Symbol(), [])\n  const { getRootProps, getHandleProps } = useResizable({\n    lockVertical: true,\n    initialWidth: initialWidth ?? 400,\n    initialHeight: '100%',\n    onDragStart: () => {\n      document.body.style.userSelect = 'none'\n    },\n    onDragEnd: () => {\n      document.body.style.userSelect = ''\n    },\n  })\n\n  useEffect(() => {\n    const event = new CustomEvent(CLOSE_PREVIOUS_SIDEBAR_EVENT, { detail: { sidebarId } })\n    window.dispatchEvent(event)\n\n    const handleClose = (e: Event) => {\n      const customEvent = e as CustomEvent\n      if (customEvent.detail.sidebarId !== sidebarId) {\n        onClose()\n      }\n    }\n\n    window.addEventListener(CLOSE_PREVIOUS_SIDEBAR_EVENT, handleClose)\n\n    return () => {\n      window.removeEventListener(CLOSE_PREVIOUS_SIDEBAR_EVENT, handleClose)\n    }\n  }, [sidebarId, onClose])\n\n  return createPortal(\n    <div {...getRootProps()} className=\"pr-2 py-2 relative\">\n      <div\n        {...getHandleProps({\n          reverse: true,\n        })}\n        className=\"flex h-6 w-6 items-center justify-center rounded-full bg-background border border-border absolute top-1/2 -translate-y-1/2 -left-4 z-20\"\n      >\n        <Equal className=\"rotate-90 w-4 h-4 text-muted-foreground\" />\n      </div>\n      <Panel {...props} variant=\"outlined\" className=\"max-h-[calc(100vh-80px)] h-full\" data-testid=\"sidebar-panel\" />\n    </div>,\n    document.querySelector(`#${containerId ?? APP_SIDEBAR_CONTAINER_ID}`) as HTMLDivElement,\n  )\n}\n"],"mappings":"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"}