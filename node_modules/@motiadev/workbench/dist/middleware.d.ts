import { Express } from "express";

//#region motia-plugin/types.d.ts

/**
* Configuration for a single workbench plugin.
* This interface defines how plugins are registered and configured in the Motia workbench.
*/
interface WorkbenchPlugin {
  /**
  * The package name or local path to the plugin.
  * - For npm packages: use the package name (e.g., '@my-org/my-plugin')
  * - For local plugins: use the tilde prefix (e.g., '~/plugins/my-plugin')
  */
  packageName: string;
  /**
  * Optional named export to use from the plugin package.
  * If not specified, the default export will be used.
  * Can be overridden by the plugin's own config.
  */
  componentName?: string;
  /**
  * Position where the plugin tab should appear in the workbench.
  * - 'top': Display in the top tab bar
  * - 'bottom': Display in the bottom tab bar
  * @default 'top'
  */
  position?: "top" | "bottom";
  /**
  * Display label for the plugin tab.
  * Can be overridden by the plugin's own config.
  */
  label?: string;
  /**
  * Icon name from lucide-react to display next to the label.
  * Can be overridden by the plugin's own config.
  * @default 'toy-brick'
  */
  labelIcon?: string;
  /**
  * Array of CSS package imports to inject into the workbench.
  * These will be added to the main index.css file.
  * Example: ['@my-org/my-plugin/styles.css']
  */
  cssImports?: string[];
  /**
  * Props to pass to the plugin component when it's rendered.
  * Can be overridden by the plugin's own config.
  */
  props?: Record<string, any>;
}
//#endregion
//#region middleware.d.ts
type ApplyMiddlewareParams = {
  app: Express;
  port: number;
  workbenchBase: string;
  plugins: WorkbenchPlugin[];
};
declare const applyMiddleware: ({
  app,
  port,
  workbenchBase,
  plugins
}: ApplyMiddlewareParams) => Promise<void>;
//#endregion
export { ApplyMiddlewareParams, applyMiddleware };