import * as _motiadev_stream_client_browser0 from "@motiadev/stream-client-browser";
import { Stream, StreamGroupSubscription, StreamItemSubscription, StreamSubscription } from "@motiadev/stream-client-browser";
import { DependencyList } from "react";

//#region src/motia-stream-provider.d.ts
type Props = React.PropsWithChildren<{
  /**
   * The address of the stream server.
   *
   * @example
   * ```tsx
   * <MotiaStreamProvider address="ws://localhost:3000">
   *   <App />
   * </MotiaStreamProvider>
   * */
  address: string;
  protocols?: string | string[] | undefined;
}>;
declare const MotiaStreamProvider: React.FC<Props>;
//#endregion
//#region src/use-motia-stream.d.ts
/**
 * A hook to get the stream context.
 *
 * @example
 * ```tsx
 * const { stream } = useMotiaStream()
 * ```
 */
declare const useMotiaStream: () => {
  stream: _motiadev_stream_client_browser0.Stream | null;
};
//#endregion
//#region src/use-stream-event-handler.d.ts
type UseStreamEventHandler = {
  event: StreamSubscription | null;
  type: string;
  listener: (event: any) => void;
};
/**
 * A hook to handle custom stream events.
 *
 * @example
 * ```tsx
 * const { event } = useStreamItem({ streamName: 'my-stream', id: '123' })
 *
 * const onEventHandled = (event: any) => {
 *   // this is going to be called whenever 'on-custom-event' is sent from the server
 *   console.log(event)
 * }
 *
 * useStreamEventHandler({ event, type: 'on-custom-event', listener: onEventHandled }, [])
 * ```
 */
declare const useStreamEventHandler: ({
  event,
  type,
  listener
}: UseStreamEventHandler, dependencies: DependencyList) => void;
//#endregion
//#region src/use-stream-group.d.ts
type StreamGroupArgs<TData extends {
  id: string;
}> = {
  streamName: string;
  groupId: string;
  sortKey?: keyof TData;
  setData?: (data: TData[]) => void;
};
/**
 * A hook to get a group of items from a stream.
 *
 * @example
 * ```tsx
 * const { data } = useStreamGroup<{ id:string; name: string }>({
 *   streamName: 'my-stream',
 *   groupId: '123',
 * })
 *
 * return (
 *   <div>
 *     {data.map((item) => (
 *       <div key={item.id}>{item.name}</div>
 *     ))}
 *   </div>
 * )
 * ```
 */
declare const useStreamGroup: <TData extends {
  id: string;
}>(args?: StreamGroupArgs<TData>) => {
  data: TData[];
  event: StreamSubscription<unknown, unknown> | null;
};
//#endregion
//#region src/use-stream-item.d.ts
type StreamItemArgs = {
  streamName: string;
  groupId: string;
  id?: string;
};
/**
 * A hook to get a single item from a stream.
 *
 * @example
 * ```tsx
 * const { data } = useStreamItem<{ id:string; name: string }>({
 *   streamName: 'my-stream',
 *   groupId: '123',
 *   id: '123',
 * })
 *
 * return (
 *   <div>{data?.name}</div>
 * )
 * ```
 */
declare const useStreamItem: <TData>(args?: StreamItemArgs) => {
  data: TData | null | undefined;
  event: StreamSubscription<unknown, unknown> | null;
};
//#endregion
export { MotiaStreamProvider, Stream, type StreamGroupArgs, StreamGroupSubscription, type StreamItemArgs, StreamItemSubscription, useMotiaStream, useStreamEventHandler, useStreamGroup, useStreamItem };
//# sourceMappingURL=index.d.ts.map