import { RedisStateAdapterOptions } from "./types.mjs";
import { RedisClientOptions, RedisClientType } from "redis";
import { StateAdapter, StateItem, StateItemsInput } from "@motiadev/core";

//#region src/redis-state-adapter.d.ts
declare class RedisStateAdapter implements StateAdapter {
  private client;
  private keyPrefix;
  private ttl?;
  private connected;
  private isExternalClient;
  constructor(redisConnection: RedisClientType | RedisClientOptions, options?: RedisStateAdapterOptions);
  private connect;
  private ensureConnected;
  private makeKey;
  private makeTracePrefix;
  private extractKey;
  private determineType;
  get<T>(traceId: string, key: string): Promise<T | null>;
  set<T>(traceId: string, key: string, value: T): Promise<T>;
  delete<T>(traceId: string, key: string): Promise<T | null>;
  getGroup<T>(traceId: string): Promise<T[]>;
  clear(traceId: string): Promise<void>;
  cleanup(): Promise<void>;
  keys(traceId: string): Promise<string[]>;
  traceIds(): Promise<string[]>;
  items(input: StateItemsInput): Promise<StateItem[]>;
  private scanKeys;
  private applyFilters;
  private matchesFilter;
}
//#endregion
export { RedisStateAdapter };
//# sourceMappingURL=redis-state-adapter.d.mts.map