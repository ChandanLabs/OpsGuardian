import { BullMQEventAdapterConfig } from "./types.mjs";
import { DLQManager } from "./dlq-manager.mjs";
import { WorkerManager } from "./worker-manager.mjs";
import { QueueManager } from "./queue-manager.mjs";
import { Redis } from "ioredis";
import { Event, EventAdapter, QueueConfig, SubscriptionHandle } from "@motiadev/core";

//#region src/bullmq-event-adapter.d.ts
declare class BullMQEventAdapter implements EventAdapter {
  private readonly connectionManager;
  private readonly _queueManager;
  private readonly _workerManager;
  private readonly _dlqManager;
  private readonly _config;
  constructor(config: BullMQEventAdapterConfig);
  get connection(): Redis;
  get prefix(): string;
  get dlqSuffix(): string;
  get queueManager(): QueueManager;
  get workerManager(): WorkerManager;
  get dlqManager(): DLQManager;
  emit<TData>(event: Event<TData>): Promise<void>;
  subscribe<TData>(topic: string, stepName: string, handler: (event: Event<TData>) => void | Promise<void>, options?: QueueConfig): Promise<SubscriptionHandle>;
  unsubscribe(handle: SubscriptionHandle): Promise<void>;
  shutdown(): Promise<void>;
  getSubscriptionCount(topic: string): Promise<number>;
  listTopics(): Promise<string[]>;
}
//#endregion
export { BullMQEventAdapter };
//# sourceMappingURL=bullmq-event-adapter.d.mts.map