import { MergedConfig } from "./config-builder.mjs";
import { Redis } from "ioredis";
import { Queue } from "bullmq";
import { Event } from "@motiadev/core";

//#region src/dlq-manager.d.ts
declare class DLQManager {
  private readonly dlqQueues;
  private readonly connection;
  private readonly config;
  constructor(connection: Redis, config: MergedConfig);
  getDLQQueueName(topic: string, stepName: string): string;
  private getOrCreateDLQQueue;
  moveToDLQ<TData>(topic: string, stepName: string, event: Event<TData>, error: Error, attemptsMade: number, originalJobId?: string): Promise<void>;
  closeDLQQueue(queueName: string): Promise<void>;
  closeAll(): Promise<void>;
  getDLQQueue(queueName: string): Queue | undefined;
  getOrCreateDLQ(queueName: string): Queue;
  listDLQQueueNames(): string[];
  getDLQSuffix(): string;
  getPrefix(): string;
  getConnection(): Redis;
}
//#endregion
export { DLQManager };
//# sourceMappingURL=dlq-manager.d.mts.map