{"version":3,"file":"build.mjs","names":[],"sources":["../../../src/cloud/cli/build.ts"],"sourcesContent":["import { program } from 'commander'\nimport { buildValidation } from '../build/build-validation'\nimport { type CliContext, handler } from '../config-utils'\nimport { build } from '../new-deployment/build'\nimport { CliListener } from '../new-deployment/listeners/cli-listener'\n\nprogram\n  .command('build')\n  .description('Build the project')\n  .action(\n    handler(async (_: unknown, context: CliContext) => {\n      const listener = new CliListener(context)\n      const builder = await build(listener)\n      const isValid = buildValidation(builder, listener)\n\n      if (!isValid) {\n        process.exit(1)\n      }\n\n      context.log('build-completed', (message) => message.tag('success').append('Build completed'))\n    }),\n  )\n"],"mappings":";;;;;;;AAMA,QACG,QAAQ,QAAQ,CAChB,YAAY,oBAAoB,CAChC,OACC,QAAQ,OAAO,GAAY,YAAwB;CACjD,MAAM,WAAW,IAAI,YAAY,QAAQ;AAIzC,KAAI,CAFY,gBADA,MAAM,MAAM,SAAS,EACI,SAAS,CAGhD,SAAQ,KAAK,EAAE;AAGjB,SAAQ,IAAI,oBAAoB,YAAY,QAAQ,IAAI,UAAU,CAAC,OAAO,kBAAkB,CAAC;EAC7F,CACH"}