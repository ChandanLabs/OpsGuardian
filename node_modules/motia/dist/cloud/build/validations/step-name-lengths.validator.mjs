import { BUNDLE_SIZE_LIMITS } from "./constants.mjs";
import path from "path";
import pc from "picocolors";

//#region src/cloud/build/validations/step-name-lengths.validator.ts
const stepNameLengthsValidator = (builder) => {
	const errors = [];
	for (const step of Object.values(builder.stepsConfig)) if (step.config.name.length > BUNDLE_SIZE_LIMITS.STEP_NAME_MAX_LENGTH) {
		const relativePath = path.relative(builder.projectDir, step.filePath);
		errors.push({
			relativePath,
			message: [`Step name is too long. Maximum is ${BUNDLE_SIZE_LIMITS.STEP_NAME_MAX_LENGTH} characters.`, `  ${pc.red("âžœ")} ${pc.magenta(step.config.name)}`].join("\n"),
			step
		});
	}
	return {
		errors,
		warnings: []
	};
};

//#endregion
export { stepNameLengthsValidator };
//# sourceMappingURL=step-name-lengths.validator.mjs.map