import path from "path";
import pc from "picocolors";
import * as cron from "node-cron";

//#region src/cloud/build/validations/cron-expressions.validator.ts
const cronExpressionsValidator = (builder) => {
	const errors = [];
	for (const step of Object.values(builder.stepsConfig)) if (step.config.type === "cron") {
		if (!cron.validate(step.config.cron)) {
			const relativePath = path.relative(builder.projectDir, step.filePath);
			errors.push({
				relativePath,
				message: ["Cron step has an invalid cron expression.", `  ${pc.red("âžœ")} ${pc.magenta(step.config.cron)}`].join("\n"),
				step
			});
		}
	}
	return {
		errors,
		warnings: []
	};
};

//#endregion
export { cronExpressionsValidator };
//# sourceMappingURL=cron-expressions.validator.mjs.map