{"version":3,"file":"cron-expressions.validator.mjs","names":["cronExpressionsValidator: Validator"],"sources":["../../../../src/cloud/build/validations/cron-expressions.validator.ts"],"sourcesContent":["import * as cron from 'node-cron'\nimport path from 'path'\nimport pc from 'picocolors'\nimport type { Validator } from './types'\n\nexport const cronExpressionsValidator: Validator = (builder) => {\n  const errors = []\n\n  for (const step of Object.values(builder.stepsConfig)) {\n    if (step.config.type === 'cron') {\n      if (!cron.validate(step.config.cron)) {\n        const relativePath = path.relative(builder.projectDir, step.filePath)\n        errors.push({\n          relativePath,\n          message: [\n            'Cron step has an invalid cron expression.',\n            `  ${pc.red('âžœ')} ${pc.magenta(step.config.cron)}`,\n          ].join('\\n'),\n          step,\n        })\n      }\n    }\n  }\n\n  return { errors, warnings: [] }\n}\n"],"mappings":";;;;;AAKA,MAAaA,4BAAuC,YAAY;CAC9D,MAAM,SAAS,EAAE;AAEjB,MAAK,MAAM,QAAQ,OAAO,OAAO,QAAQ,YAAY,CACnD,KAAI,KAAK,OAAO,SAAS,QACvB;MAAI,CAAC,KAAK,SAAS,KAAK,OAAO,KAAK,EAAE;GACpC,MAAM,eAAe,KAAK,SAAS,QAAQ,YAAY,KAAK,SAAS;AACrE,UAAO,KAAK;IACV;IACA,SAAS,CACP,6CACA,KAAK,GAAG,IAAI,IAAI,CAAC,GAAG,GAAG,QAAQ,KAAK,OAAO,KAAK,GACjD,CAAC,KAAK,KAAK;IACZ;IACD,CAAC;;;AAKR,QAAO;EAAE;EAAQ,UAAU,EAAE;EAAE"}