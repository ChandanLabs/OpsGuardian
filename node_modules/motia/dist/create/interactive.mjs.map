{"version":3,"file":"interactive.mjs","names":["choices: Record<string, string>","questions: QuestionCollection<never>[]","answers: InteractiveAnswers"],"sources":["../../src/create/interactive.ts"],"sourcesContent":["import inquirer, { type QuestionCollection } from 'inquirer'\nimport pc from 'picocolors'\nimport type { CliContext, Message } from '../cloud/config-utils'\nimport { create } from './index'\n\ninterface InteractiveAnswers {\n  template: string\n  projectName: string\n}\n\nconst choices: Record<string, string> = {\n  'motia-tutorial-typescript': 'Tutorial (TypeScript only)',\n  'motia-tutorial-python': 'Tutorial (Python only)',\n  'starter-multilang': 'Starter (All languages; TS/JS + Python)',\n  'starter-typescript': 'Starter (TypeScript only)',\n  'starter-javascript': 'Starter (JavaScript only)',\n  'starter-python': 'Starter (Python only)',\n}\n\ninterface CreateInteractiveArgs {\n  name?: string\n  template?: string\n  plugin?: boolean\n  skipRedis?: boolean\n}\n\nexport const createInteractive = async (args: CreateInteractiveArgs, context: CliContext): Promise<void> => {\n  context.log('welcome', (message: Message) =>\n    message.append(\n      `\\nðŸš€ ${pc.bold(args.plugin ? 'Welcome to Motia Plugin Creator!' : 'Welcome to Motia Project Creator!')}`,\n    ),\n  )\n\n  const questions: QuestionCollection<never>[] = []\n\n  let name = args.name\n  let template = args.template\n\n  if (args.plugin) {\n    if (!args.name) {\n      context.log('failed', (message: Message) =>\n        message.tag('failed').append(`Project name is required: ${pc.bold('motia create --plugin [project-name]')}\\n`),\n      )\n      return\n    }\n\n    return create({\n      projectName: args.name,\n      template: 'plugin',\n      cursorEnabled: false,\n      context,\n    })\n  } else if (!args.template) {\n    questions.push({\n      type: 'list',\n      name: 'template',\n      message: 'What template do you want to use? (Use arrow keys)',\n      choices: Object.keys(choices).map((key) => ({\n        name: choices[key],\n        value: key,\n      })),\n    })\n  }\n\n  if (!args.name) {\n    questions.push({\n      type: 'input',\n      name: 'projectName',\n      message: 'Project name (leave blank to use current folder):',\n      validate: (input: string) => {\n        if (input && input.trim().length > 0) {\n          if (!/^[a-zA-Z0-9][a-zA-Z0-9-_]*$/.test(input.trim())) {\n            return 'Project name must start with a letter or number and contain only letters, numbers, hyphens, and underscores'\n          }\n        }\n        return true\n      },\n      filter: (input: string) => input.trim(),\n    })\n  }\n\n  if (questions.length > 0) {\n    const answers: InteractiveAnswers = await inquirer.prompt(questions)\n    name = args.name || answers.projectName\n    template = args.template || answers.template\n  }\n\n  context.log('creating', (message: Message) => message.append('\\nðŸ”¨ Creating your Motia project...\\n'))\n\n  await create({\n    projectName: name || '.',\n    template: template || 'motia-tutorial-typescript',\n    cursorEnabled: true,\n    context,\n    skipRedis: args.skipRedis,\n  })\n\n  process.exit(0)\n}\n"],"mappings":";;;;;AAUA,MAAMA,UAAkC;CACtC,6BAA6B;CAC7B,yBAAyB;CACzB,qBAAqB;CACrB,sBAAsB;CACtB,sBAAsB;CACtB,kBAAkB;CACnB;AASD,MAAa,oBAAoB,OAAO,MAA6B,YAAuC;AAC1G,SAAQ,IAAI,YAAY,YACtB,QAAQ,OACN,QAAQ,GAAG,KAAK,KAAK,SAAS,qCAAqC,oCAAoC,GACxG,CACF;CAED,MAAMC,YAAyC,EAAE;CAEjD,IAAI,OAAO,KAAK;CAChB,IAAI,WAAW,KAAK;AAEpB,KAAI,KAAK,QAAQ;AACf,MAAI,CAAC,KAAK,MAAM;AACd,WAAQ,IAAI,WAAW,YACrB,QAAQ,IAAI,SAAS,CAAC,OAAO,6BAA6B,GAAG,KAAK,uCAAuC,CAAC,IAAI,CAC/G;AACD;;AAGF,SAAO,OAAO;GACZ,aAAa,KAAK;GAClB,UAAU;GACV,eAAe;GACf;GACD,CAAC;YACO,CAAC,KAAK,SACf,WAAU,KAAK;EACb,MAAM;EACN,MAAM;EACN,SAAS;EACT,SAAS,OAAO,KAAK,QAAQ,CAAC,KAAK,SAAS;GAC1C,MAAM,QAAQ;GACd,OAAO;GACR,EAAE;EACJ,CAAC;AAGJ,KAAI,CAAC,KAAK,KACR,WAAU,KAAK;EACb,MAAM;EACN,MAAM;EACN,SAAS;EACT,WAAW,UAAkB;AAC3B,OAAI,SAAS,MAAM,MAAM,CAAC,SAAS,GACjC;QAAI,CAAC,8BAA8B,KAAK,MAAM,MAAM,CAAC,CACnD,QAAO;;AAGX,UAAO;;EAET,SAAS,UAAkB,MAAM,MAAM;EACxC,CAAC;AAGJ,KAAI,UAAU,SAAS,GAAG;EACxB,MAAMC,UAA8B,MAAM,SAAS,OAAO,UAAU;AACpE,SAAO,KAAK,QAAQ,QAAQ;AAC5B,aAAW,KAAK,YAAY,QAAQ;;AAGtC,SAAQ,IAAI,aAAa,YAAqB,QAAQ,OAAO,wCAAwC,CAAC;AAEtG,OAAM,OAAO;EACX,aAAa,QAAQ;EACrB,UAAU,YAAY;EACtB,eAAe;EACf;EACA,WAAW,KAAK;EACjB,CAAC;AAEF,SAAQ,KAAK,EAAE"}