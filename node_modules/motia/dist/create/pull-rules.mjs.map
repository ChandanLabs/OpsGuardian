{"version":3,"file":"pull-rules.mjs","names":[],"sources":["../../src/create/pull-rules.ts"],"sourcesContent":["import fs from 'fs'\nimport path from 'path'\nimport { fileURLToPath } from 'url'\nimport type { CliContext, Message } from '../cloud/config-utils'\n\ntype PullRulesArgs = {\n  rootDir: string\n  force?: boolean\n}\n\nexport const pullRules = async (args: PullRulesArgs, context: CliContext) => {\n  const __dirname = path.dirname(fileURLToPath(import.meta.url))\n  const cursorTemplateDir = path.join(__dirname, '..', 'cursor-rules', 'dot-files')\n  const files = fs.readdirSync(cursorTemplateDir)\n\n  for (const file of files) {\n    const targetFile = path.join(args.rootDir, file)\n    const isFolder = fs.statSync(path.join(cursorTemplateDir, file)).isDirectory()\n    const type = isFolder ? 'Folder' : 'File'\n\n    if (args.force || !fs.existsSync(targetFile)) {\n      fs.cpSync(path.join(cursorTemplateDir, file), targetFile, {\n        recursive: isFolder,\n        force: true,\n      })\n\n      context.log(`${file}-created`, (message: Message) =>\n        message.tag('success').append(type).append(file, 'cyan').append('has been created.'),\n      )\n    } else {\n      context.log(`${file}-skipped`, (message: Message) =>\n        message.tag('warning').append(type).append(file, 'cyan').append('already exists, skipping...'),\n      )\n    }\n  }\n}\n"],"mappings":";;;;;AAUA,MAAa,YAAY,OAAO,MAAqB,YAAwB;CAC3E,MAAM,YAAY,KAAK,QAAQ,cAAc,OAAO,KAAK,IAAI,CAAC;CAC9D,MAAM,oBAAoB,KAAK,KAAK,WAAW,MAAM,gBAAgB,YAAY;CACjF,MAAM,QAAQ,GAAG,YAAY,kBAAkB;AAE/C,MAAK,MAAM,QAAQ,OAAO;EACxB,MAAM,aAAa,KAAK,KAAK,KAAK,SAAS,KAAK;EAChD,MAAM,WAAW,GAAG,SAAS,KAAK,KAAK,mBAAmB,KAAK,CAAC,CAAC,aAAa;EAC9E,MAAM,OAAO,WAAW,WAAW;AAEnC,MAAI,KAAK,SAAS,CAAC,GAAG,WAAW,WAAW,EAAE;AAC5C,MAAG,OAAO,KAAK,KAAK,mBAAmB,KAAK,EAAE,YAAY;IACxD,WAAW;IACX,OAAO;IACR,CAAC;AAEF,WAAQ,IAAI,GAAG,KAAK,YAAY,YAC9B,QAAQ,IAAI,UAAU,CAAC,OAAO,KAAK,CAAC,OAAO,MAAM,OAAO,CAAC,OAAO,oBAAoB,CACrF;QAED,SAAQ,IAAI,GAAG,KAAK,YAAY,YAC9B,QAAQ,IAAI,UAAU,CAAC,OAAO,KAAK,CAAC,OAAO,MAAM,OAAO,CAAC,OAAO,8BAA8B,CAC/F"}