//#region src/redis/utils.ts
const shouldUseMemoryServer = (config) => {
	if (process.env.MOTIA_DISABLE_MEMORY_SERVER === "true") return false;
	if (process.env.MOTIA_REDIS_HOST && process.env.MOTIA_REDIS_HOST !== "127.0.0.1") return false;
	const redisConfig = config.redis;
	if (redisConfig && "useMemoryServer" in redisConfig && redisConfig.useMemoryServer === false) return false;
	return redisConfig?.useMemoryServer !== void 0 ? redisConfig.useMemoryServer === true : true;
};
const isExternalRedisConfig = (redisConfig) => {
	return redisConfig !== void 0 && "host" in redisConfig && "port" in redisConfig;
};

//#endregion
export { isExternalRedisConfig, shouldUseMemoryServer };
//# sourceMappingURL=utils.mjs.map