{"version":3,"file":"build-docker-image.mjs","names":["fs","path"],"sources":["../../../src/docker/utils/build-docker-image.ts"],"sourcesContent":["import * as fs from 'fs'\nimport * as path from 'path'\nimport { promiseExec } from './promised-exec'\n\nexport const buildDockerImage = async (projectName?: string): Promise<string> => {\n  if (!fs.existsSync(path.join(process.cwd(), 'Dockerfile'))) {\n    console.error('Dockerfile not found')\n    process.exit(1)\n  }\n\n  const dockerImageName = `${projectName}`\n  const dockerBuildCommand = `docker build -t ${dockerImageName} .`\n\n  console.log(`Building docker image: ${dockerImageName}`)\n  await promiseExec(dockerBuildCommand)\n  console.log(`Docker image ${dockerImageName} built successfully`)\n\n  return dockerImageName\n}\n"],"mappings":";;;;;AAIA,MAAa,mBAAmB,OAAO,gBAA0C;AAC/E,KAAI,CAACA,KAAG,WAAWC,OAAK,KAAK,QAAQ,KAAK,EAAE,aAAa,CAAC,EAAE;AAC1D,UAAQ,MAAM,uBAAuB;AACrC,UAAQ,KAAK,EAAE;;CAGjB,MAAM,kBAAkB,GAAG;CAC3B,MAAM,qBAAqB,mBAAmB,gBAAgB;AAE9D,SAAQ,IAAI,0BAA0B,kBAAkB;AACxD,OAAM,YAAY,mBAAmB;AACrC,SAAQ,IAAI,gBAAgB,gBAAgB,qBAAqB;AAEjE,QAAO"}