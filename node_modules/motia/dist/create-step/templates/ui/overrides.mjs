import { promises } from "fs";
import path from "path";
import { fileURLToPath } from "url";

//#region src/create-step/templates/ui/overrides.ts
/**
* Generates a React component override for the step
*/
const __dirname = path.dirname(fileURLToPath(import.meta.url));
async function generateOverride(answers) {
	const templatePath = path.join(__dirname, `${answers.type}.step.txt`);
	const content = await promises.readFile(templatePath, "utf8");
	const replacements = {
		STEP_NAME: answers.name,
		DESCRIPTION: answers.description || "",
		TYPE: answers.type,
		FLOWS: JSON.stringify(answers.flows),
		EMITS: JSON.stringify(answers.emits)
	};
	return Object.entries(replacements).reduce((content$1, [key, value]) => {
		const regex = new RegExp(`\\{\\{${key}\\}\\}`, "g");
		return content$1.replace(regex, String(value));
	}, content);
}

//#endregion
export { generateOverride };
//# sourceMappingURL=overrides.mjs.map