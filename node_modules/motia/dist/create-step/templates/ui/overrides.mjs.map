{"version":3,"file":"overrides.mjs","names":["fs","replacements: Record<string, string | string[]>","content"],"sources":["../../../../src/create-step/templates/ui/overrides.ts"],"sourcesContent":["import { promises as fs } from 'fs'\nimport path from 'path'\nimport { fileURLToPath } from 'url'\nimport type { StepAnswers } from '../../types'\n\n/**\n * Generates a React component override for the step\n */\nconst __dirname = path.dirname(fileURLToPath(import.meta.url))\nexport async function generateOverride(answers: StepAnswers): Promise<string> {\n  const templatePath = path.join(__dirname, `${answers.type}.step.txt`)\n  const content = await fs.readFile(templatePath, 'utf8')\n\n  const replacements: Record<string, string | string[]> = {\n    STEP_NAME: answers.name,\n    DESCRIPTION: answers.description || '',\n    TYPE: answers.type,\n    FLOWS: JSON.stringify(answers.flows),\n    EMITS: JSON.stringify(answers.emits),\n  }\n\n  return Object.entries(replacements).reduce((content, [key, value]) => {\n    const regex = new RegExp(`\\\\{\\\\{${key}\\\\}\\\\}`, 'g')\n    return content.replace(regex, String(value))\n  }, content)\n}\n"],"mappings":";;;;;;;;AAQA,MAAM,YAAY,KAAK,QAAQ,cAAc,OAAO,KAAK,IAAI,CAAC;AAC9D,eAAsB,iBAAiB,SAAuC;CAC5E,MAAM,eAAe,KAAK,KAAK,WAAW,GAAG,QAAQ,KAAK,WAAW;CACrE,MAAM,UAAU,MAAMA,SAAG,SAAS,cAAc,OAAO;CAEvD,MAAMC,eAAkD;EACtD,WAAW,QAAQ;EACnB,aAAa,QAAQ,eAAe;EACpC,MAAM,QAAQ;EACd,OAAO,KAAK,UAAU,QAAQ,MAAM;EACpC,OAAO,KAAK,UAAU,QAAQ,MAAM;EACrC;AAED,QAAO,OAAO,QAAQ,aAAa,CAAC,QAAQ,WAAS,CAAC,KAAK,WAAW;EACpE,MAAM,QAAQ,IAAI,OAAO,SAAS,IAAI,SAAS,IAAI;AACnD,SAAOC,UAAQ,QAAQ,OAAO,OAAO,MAAM,CAAC;IAC3C,QAAQ"}