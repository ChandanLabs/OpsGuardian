{"version":3,"file":"index.mjs","names":[],"sources":["../../src/create-step/index.ts"],"sourcesContent":["import fs from 'fs'\nimport path from 'path'\nimport pc from 'picocolors'\nimport { getStepAnswers } from './getAnswers'\nimport { generateTemplate } from './teamplateUtils'\nimport { generateOverride } from './templates/ui/overrides'\nimport { getFileExtension } from './utils'\n\nexport async function createStep(options: { stepFilePath?: string }) {\n  try {\n    const answers = await getStepAnswers()\n\n    // Create src directory if it doesn't exist\n    const stepDir = path.join(process.cwd(), 'src', options?.stepFilePath || '')\n    if (!fs.existsSync(stepDir)) {\n      fs.mkdirSync(stepDir, { recursive: true })\n    }\n\n    // Create step file\n    const extension = getFileExtension(answers.language)\n    const stepPath = path.join(stepDir, `${answers.name}${answers.type === 'api' ? '.api' : ''}.step${extension}`)\n\n    // Check if file already exists\n    if (fs.existsSync(stepPath)) {\n      console.error(pc.red(`\\n‚ùå Error: Step file already exists at ${stepPath}`))\n      process.exit(1)\n    }\n\n    // Generate and write step file\n    const stepContent = await generateTemplate(answers)\n    fs.writeFileSync(stepPath, stepContent)\n    console.log(pc.green(`\\n‚ú® Created step file at ${stepPath}`))\n\n    // Create UI override if requested\n    if (answers.createOverride) {\n      const overridePath = path.join(stepDir, `${answers.name}.step.tsx`)\n      const overrideContent = await generateOverride(answers)\n      fs.writeFileSync(overridePath, overrideContent)\n      console.log(pc.green(`‚ú® Created UI override at ${overridePath}`))\n    }\n\n    console.log(pc.bold('\\nüéâ Step creation complete!'))\n  } catch (error) {\n    console.error(pc.red('\\n‚ùå Error creating step:'), error)\n    process.exit(1)\n  }\n}\n"],"mappings":";;;;;;;;;AAQA,eAAsB,WAAW,SAAoC;AACnE,KAAI;EACF,MAAM,UAAU,MAAM,gBAAgB;EAGtC,MAAM,UAAU,KAAK,KAAK,QAAQ,KAAK,EAAE,OAAO,SAAS,gBAAgB,GAAG;AAC5E,MAAI,CAAC,GAAG,WAAW,QAAQ,CACzB,IAAG,UAAU,SAAS,EAAE,WAAW,MAAM,CAAC;EAI5C,MAAM,YAAY,iBAAiB,QAAQ,SAAS;EACpD,MAAM,WAAW,KAAK,KAAK,SAAS,GAAG,QAAQ,OAAO,QAAQ,SAAS,QAAQ,SAAS,GAAG,OAAO,YAAY;AAG9G,MAAI,GAAG,WAAW,SAAS,EAAE;AAC3B,WAAQ,MAAM,GAAG,IAAI,0CAA0C,WAAW,CAAC;AAC3E,WAAQ,KAAK,EAAE;;EAIjB,MAAM,cAAc,MAAM,iBAAiB,QAAQ;AACnD,KAAG,cAAc,UAAU,YAAY;AACvC,UAAQ,IAAI,GAAG,MAAM,4BAA4B,WAAW,CAAC;AAG7D,MAAI,QAAQ,gBAAgB;GAC1B,MAAM,eAAe,KAAK,KAAK,SAAS,GAAG,QAAQ,KAAK,WAAW;GACnE,MAAM,kBAAkB,MAAM,iBAAiB,QAAQ;AACvD,MAAG,cAAc,cAAc,gBAAgB;AAC/C,WAAQ,IAAI,GAAG,MAAM,4BAA4B,eAAe,CAAC;;AAGnE,UAAQ,IAAI,GAAG,KAAK,+BAA+B,CAAC;UAC7C,OAAO;AACd,UAAQ,MAAM,GAAG,IAAI,2BAA2B,EAAE,MAAM;AACxD,UAAQ,KAAK,EAAE"}